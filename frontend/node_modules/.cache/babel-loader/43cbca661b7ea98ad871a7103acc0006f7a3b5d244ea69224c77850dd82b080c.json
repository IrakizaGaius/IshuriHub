{"ast":null,"code":"const API_URL = 'http://localhost:5000';\nconst getToken = () => {\n  return localStorage.getItem('token');\n};\nconsole.log(getToken());\nconst apiRequest = async (endpoint, method = 'GET', body = null) => {\n  const token = getToken();\n  const headers = {\n    'Content-Type': 'application/json'\n  };\n  if (token) {\n    headers['Authorization'] = `Bearer ${token}`;\n  }\n  const response = await fetch(`${API_URL}${endpoint}`, {\n    method,\n    headers,\n    body: body ? JSON.stringify(body) : null\n  });\n  if (!response.ok) {\n    const error = await response.json();\n    throw new Error(error.message || 'Request failed');\n  }\n  return response.json();\n};\nexport const getParentsMetrics = () => apiRequest('/api/parents/parents-metrics/');\nexport const getParents = () => apiRequest('/api/parents/');\nexport const addParent = data => apiRequest('/api/parents/', 'POST', data);\nexport const updateParent = (id, data) => apiRequest(`/api/parents/${id}`, 'PUT', data);\nexport const deleteParent = id => apiRequest(`/api/parents/${id}`, 'DELETE');\nexport const getStudentsMetrics = () => apiRequest('/api/students/students-metrics/');\nexport const getStudents = () => apiRequest('/api/students/');\nexport const addStudent = data => apiRequest('/api/students/', 'POST', data);\nexport const updateStudent = (id, data) => apiRequest(`/api/students/${id}`, 'PATCH', data);\nexport const deleteStudent = id => apiRequest(`/api/students/${id}`, 'DELETE');\nexport const getEventsMetrics = () => apiRequest('/api/events/metrics/');\nexport const getEvents = () => apiRequest('/api/events/');\nexport const addEvent = data => apiRequest('/api/events/', 'POST', data);\nexport const updateEvent = (id, data) => apiRequest(`/api/events/${id}`, 'PUT', data);\nexport const deleteEvent = id => apiRequest(`/api/events/${id}`, 'DELETE');","map":{"version":3,"names":["API_URL","getToken","localStorage","getItem","console","log","apiRequest","endpoint","method","body","token","headers","response","fetch","JSON","stringify","ok","error","json","Error","message","getParentsMetrics","getParents","addParent","data","updateParent","id","deleteParent","getStudentsMetrics","getStudents","addStudent","updateStudent","deleteStudent","getEventsMetrics","getEvents","addEvent","updateEvent","deleteEvent"],"sources":["/Users/irakizagaius/Downloads/IshuriHub/frontend/src/api.js"],"sourcesContent":["const API_URL = 'http://localhost:5000';\n\nconst getToken = () => {\n  return localStorage.getItem('token');\n};\nconsole.log(getToken());\nconst apiRequest = async (endpoint, method = 'GET', body = null) => {\n  const token = getToken();\n  const headers = {\n    'Content-Type': 'application/json',\n  };\n\n  if (token) {\n    headers['Authorization'] = `Bearer ${token}`;\n  }\n\n  const response = await fetch(`${API_URL}${endpoint}`, {\n    method,\n    headers,\n    body: body ? JSON.stringify(body) : null,\n  });\n\n  if (!response.ok) {\n    const error = await response.json();\n    throw new Error(error.message || 'Request failed');\n  }\n  return response.json();\n};\n\n\nexport const getParentsMetrics = () => apiRequest('/api/parents/parents-metrics/');\nexport const getParents = () => apiRequest('/api/parents/');\nexport const addParent = (data) => apiRequest('/api/parents/', 'POST', data);\nexport const updateParent = (id, data) => apiRequest(`/api/parents/${id}`, 'PUT', data);\nexport const deleteParent = (id) => apiRequest(`/api/parents/${id}`, 'DELETE');\nexport const getStudentsMetrics = () => apiRequest('/api/students/students-metrics/');\nexport const getStudents = () => apiRequest('/api/students/');\nexport const addStudent = (data) => apiRequest('/api/students/', 'POST', data);\nexport const updateStudent = (id, data) => apiRequest(`/api/students/${id}`, 'PATCH', data);\nexport const deleteStudent = (id) => apiRequest(`/api/students/${id}`, 'DELETE');\nexport const getEventsMetrics = () => apiRequest('/api/events/metrics/');\nexport const getEvents = () => apiRequest('/api/events/');\nexport const addEvent = (data) => apiRequest('/api/events/', 'POST', data);\nexport const updateEvent = (id, data) => apiRequest(`/api/events/${id}`, 'PUT', data);\nexport const deleteEvent = (id) => apiRequest(`/api/events/${id}`, 'DELETE');"],"mappings":"AAAA,MAAMA,OAAO,GAAG,uBAAuB;AAEvC,MAAMC,QAAQ,GAAGA,CAAA,KAAM;EACrB,OAAOC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;AACtC,CAAC;AACDC,OAAO,CAACC,GAAG,CAACJ,QAAQ,CAAC,CAAC,CAAC;AACvB,MAAMK,UAAU,GAAG,MAAAA,CAAOC,QAAQ,EAAEC,MAAM,GAAG,KAAK,EAAEC,IAAI,GAAG,IAAI,KAAK;EAClE,MAAMC,KAAK,GAAGT,QAAQ,CAAC,CAAC;EACxB,MAAMU,OAAO,GAAG;IACd,cAAc,EAAE;EAClB,CAAC;EAED,IAAID,KAAK,EAAE;IACTC,OAAO,CAAC,eAAe,CAAC,GAAG,UAAUD,KAAK,EAAE;EAC9C;EAEA,MAAME,QAAQ,GAAG,MAAMC,KAAK,CAAC,GAAGb,OAAO,GAAGO,QAAQ,EAAE,EAAE;IACpDC,MAAM;IACNG,OAAO;IACPF,IAAI,EAAEA,IAAI,GAAGK,IAAI,CAACC,SAAS,CAACN,IAAI,CAAC,GAAG;EACtC,CAAC,CAAC;EAEF,IAAI,CAACG,QAAQ,CAACI,EAAE,EAAE;IAChB,MAAMC,KAAK,GAAG,MAAML,QAAQ,CAACM,IAAI,CAAC,CAAC;IACnC,MAAM,IAAIC,KAAK,CAACF,KAAK,CAACG,OAAO,IAAI,gBAAgB,CAAC;EACpD;EACA,OAAOR,QAAQ,CAACM,IAAI,CAAC,CAAC;AACxB,CAAC;AAGD,OAAO,MAAMG,iBAAiB,GAAGA,CAAA,KAAMf,UAAU,CAAC,+BAA+B,CAAC;AAClF,OAAO,MAAMgB,UAAU,GAAGA,CAAA,KAAMhB,UAAU,CAAC,eAAe,CAAC;AAC3D,OAAO,MAAMiB,SAAS,GAAIC,IAAI,IAAKlB,UAAU,CAAC,eAAe,EAAE,MAAM,EAAEkB,IAAI,CAAC;AAC5E,OAAO,MAAMC,YAAY,GAAGA,CAACC,EAAE,EAAEF,IAAI,KAAKlB,UAAU,CAAC,gBAAgBoB,EAAE,EAAE,EAAE,KAAK,EAAEF,IAAI,CAAC;AACvF,OAAO,MAAMG,YAAY,GAAID,EAAE,IAAKpB,UAAU,CAAC,gBAAgBoB,EAAE,EAAE,EAAE,QAAQ,CAAC;AAC9E,OAAO,MAAME,kBAAkB,GAAGA,CAAA,KAAMtB,UAAU,CAAC,iCAAiC,CAAC;AACrF,OAAO,MAAMuB,WAAW,GAAGA,CAAA,KAAMvB,UAAU,CAAC,gBAAgB,CAAC;AAC7D,OAAO,MAAMwB,UAAU,GAAIN,IAAI,IAAKlB,UAAU,CAAC,gBAAgB,EAAE,MAAM,EAAEkB,IAAI,CAAC;AAC9E,OAAO,MAAMO,aAAa,GAAGA,CAACL,EAAE,EAAEF,IAAI,KAAKlB,UAAU,CAAC,iBAAiBoB,EAAE,EAAE,EAAE,OAAO,EAAEF,IAAI,CAAC;AAC3F,OAAO,MAAMQ,aAAa,GAAIN,EAAE,IAAKpB,UAAU,CAAC,iBAAiBoB,EAAE,EAAE,EAAE,QAAQ,CAAC;AAChF,OAAO,MAAMO,gBAAgB,GAAGA,CAAA,KAAM3B,UAAU,CAAC,sBAAsB,CAAC;AACxE,OAAO,MAAM4B,SAAS,GAAGA,CAAA,KAAM5B,UAAU,CAAC,cAAc,CAAC;AACzD,OAAO,MAAM6B,QAAQ,GAAIX,IAAI,IAAKlB,UAAU,CAAC,cAAc,EAAE,MAAM,EAAEkB,IAAI,CAAC;AAC1E,OAAO,MAAMY,WAAW,GAAGA,CAACV,EAAE,EAAEF,IAAI,KAAKlB,UAAU,CAAC,eAAeoB,EAAE,EAAE,EAAE,KAAK,EAAEF,IAAI,CAAC;AACrF,OAAO,MAAMa,WAAW,GAAIX,EAAE,IAAKpB,UAAU,CAAC,eAAeoB,EAAE,EAAE,EAAE,QAAQ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}