{"ast":null,"code":"const API_URL='http://localhost:5000';const getToken=()=>{return localStorage.getItem('token');};console.log(getToken());const apiRequest=async function(endpoint){let method=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'GET';let body=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;const token=getToken();const headers={'Content-Type':'application/json'};if(token){headers['Authorization']=`Bearer ${token}`;}try{const response=await fetch(`${API_URL}${endpoint}`,{method,headers,body:body?JSON.stringify(body):null});// Handle cases with no content (e.g., 204 No Content)\nif(response.status===204){return null;// No content to return\n}if(!response.ok){const error=await response.json();throw new Error(error.error||'Request failed');}return response.json();}catch(error){throw error;}};export const getParentsMetrics=data=>apiRequest('/api/parents/parents-metrics/','POST',data);export const getParents=()=>apiRequest('/api/parents/');export const addParent=data=>apiRequest('/api/parents/','POST',data);export const updateParent=(id,data)=>apiRequest(`/api/parents/${id}`,'PUT',data);export const deleteParent=id=>apiRequest(`/api/parents/${id}`,'DELETE');export const getStudentsMetrics=data=>apiRequest('/api/students/students-metrics/','POST',data);export const getStudents=()=>apiRequest('/api/students/');export const getStudent=id=>apiRequest(`/api/students/${id}`);export const addStudent=data=>apiRequest('/api/students/','POST',data);export const updateStudent=(id,data)=>apiRequest(`/api/students/${id}`,'PUT',data);export const deleteStudent=id=>apiRequest(`/api/students/${id}`,'DELETE');export const getEventsMetrics=data=>apiRequest('/api/events/metrics/','POST',data);export const getEvents=()=>apiRequest('/api/events/');export const addEvent=data=>apiRequest('/api/events/','POST',data);export const updateEvent=(id,data)=>apiRequest(`/api/events/${id}`,'PUT',data);export const deleteEvent=id=>apiRequest(`/api/events/${id}`,'DELETE');export const getSubjects=()=>apiRequest('/api/subjects/');export const addSubject=data=>apiRequest('/api/subjects/','POST',data);export const updateSubject=(id,data)=>apiRequest(`/api/subjects/${id}`,'PUT',data);export const deleteSubject=id=>apiRequest(`/api/subjects/${id}`,'DELETE');export const getTerms=()=>apiRequest('/api/terms/');export const addTerm=data=>apiRequest('/api/terms/','POST',data);export const updateTerm=(id,data)=>apiRequest(`/api/terms/${id}`,'PUT',data);export const deleteTerm=id=>apiRequest(`/api/terms/${id}`,'DELETE');export const getMarks=()=>apiRequest('/api/grades/');export const addMarks=data=>apiRequest('/api/grades/','POST',data);export const updateMarks=(id,data)=>apiRequest(`/api/grades/${id}`,'PUT',data);export const deleteMarks=id=>apiRequest(`/api/grades/${id}`,'DELETE');export const getAttendance=()=>apiRequest('/api/attendances/');export const addAttendance=data=>apiRequest('/api/attendances/','POST',data);export const updateAttendance=(id,data)=>apiRequest(`/api/attendances/${id}`,'PUT',data);export const deleteAttendance=id=>apiRequest(`/api/attendances/${id}`,'DELETE');export const login=data=>apiRequest('/api/users/login','POST',data);export const logout=()=>apiRequest('/api/users/logout');","map":{"version":3,"names":["API_URL","getToken","localStorage","getItem","console","log","apiRequest","endpoint","method","arguments","length","undefined","body","token","headers","response","fetch","JSON","stringify","status","ok","error","json","Error","getParentsMetrics","data","getParents","addParent","updateParent","id","deleteParent","getStudentsMetrics","getStudents","getStudent","addStudent","updateStudent","deleteStudent","getEventsMetrics","getEvents","addEvent","updateEvent","deleteEvent","getSubjects","addSubject","updateSubject","deleteSubject","getTerms","addTerm","updateTerm","deleteTerm","getMarks","addMarks","updateMarks","deleteMarks","getAttendance","addAttendance","updateAttendance","deleteAttendance","login","logout"],"sources":["/Users/irakizagaius/Downloads/IshuriHub/frontend/src/api.js"],"sourcesContent":["const API_URL = 'http://localhost:5000';\n\nconst getToken = () => {\n  return localStorage.getItem('token');\n};\nconsole.log(getToken());\nconst apiRequest = async (endpoint, method = 'GET', body = null) => {\n  const token = getToken();\n  const headers = {\n    'Content-Type': 'application/json',\n  };\n\n  if (token) {\n    headers['Authorization'] = `Bearer ${token}`;\n  }\n  \n  try{\n  const response = await fetch(`${API_URL}${endpoint}`, {\n    method,\n    headers,\n    body: body ? JSON.stringify(body) : null,\n  });\n  \n    // Handle cases with no content (e.g., 204 No Content)\n    if (response.status === 204) {\n      return null; // No content to return\n    }\n\n  if (!response.ok) {\n    const error = await response.json();\n      throw new Error(error.error || 'Request failed');\n    }\n  \n  return response.json();\n}catch(error){\n  throw error;\n}\n};\n\n\nexport const getParentsMetrics = (data) => apiRequest('/api/parents/parents-metrics/', 'POST', data);\nexport const getParents = () => apiRequest('/api/parents/');\nexport const addParent = (data) => apiRequest('/api/parents/', 'POST', data);\nexport const updateParent = (id, data) => apiRequest(`/api/parents/${id}`, 'PUT', data);\nexport const deleteParent = (id) => apiRequest(`/api/parents/${id}`, 'DELETE');\nexport const getStudentsMetrics = (data) => apiRequest('/api/students/students-metrics/', 'POST', data);\nexport const getStudents = () => apiRequest('/api/students/');\nexport const getStudent = (id) => apiRequest(`/api/students/${id}`);\nexport const addStudent = (data) => apiRequest('/api/students/', 'POST', data);\nexport const updateStudent = (id, data) => apiRequest(`/api/students/${id}`, 'PUT', data);\nexport const deleteStudent = (id) => apiRequest(`/api/students/${id}`, 'DELETE');\nexport const getEventsMetrics = (data) => apiRequest('/api/events/metrics/', 'POST', data);\nexport const getEvents = () => apiRequest('/api/events/');\nexport const addEvent = (data) => apiRequest('/api/events/', 'POST', data);\nexport const updateEvent = (id, data) => apiRequest(`/api/events/${id}`, 'PUT', data);\nexport const deleteEvent = (id) => apiRequest(`/api/events/${id}`, 'DELETE');\nexport const getSubjects = () => apiRequest('/api/subjects/');\nexport const addSubject = (data) => apiRequest('/api/subjects/', 'POST', data);\nexport const updateSubject = (id, data) => apiRequest(`/api/subjects/${id}`, 'PUT', data);\nexport const deleteSubject = (id) => apiRequest(`/api/subjects/${id}`, 'DELETE');\nexport const getTerms = () => apiRequest('/api/terms/');\nexport const addTerm = (data) => apiRequest('/api/terms/', 'POST', data);\nexport const updateTerm = (id, data) => apiRequest(`/api/terms/${id}`, 'PUT', data);\nexport const deleteTerm = (id) => apiRequest(`/api/terms/${id}`, 'DELETE');\nexport const getMarks = () => apiRequest('/api/grades/');\nexport const addMarks = (data) => apiRequest('/api/grades/', 'POST', data);\nexport const updateMarks = (id, data) => apiRequest(`/api/grades/${id}`, 'PUT', data);\nexport const deleteMarks = (id) => apiRequest(`/api/grades/${id}`, 'DELETE');\nexport const getAttendance = () => apiRequest('/api/attendances/');\nexport const addAttendance = (data) => apiRequest('/api/attendances/', 'POST', data);\nexport const updateAttendance = (id, data) => apiRequest(`/api/attendances/${id}`, 'PUT', data);\nexport const deleteAttendance = (id) => apiRequest(`/api/attendances/${id}`, 'DELETE');\nexport const login = (data) => apiRequest('/api/users/login', 'POST', data);\nexport const logout = () => apiRequest('/api/users/logout');"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}