{"ast":null,"code":"var _jsxFileName = \"/Users/irakizagaius/Downloads/IshuriHub/frontend/src/components/StudentDetails.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport './StudentDetails.css';\nimport { getSubjects, getStudents, getTerms, addMarks } from '../api';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst StudentDetailsPage = () => {\n  _s();\n  const [students, setStudents] = useState([]);\n  const [subjects, setSubjects] = useState([]);\n  const [marks, setMarks] = useState({});\n  const [currentTerm, setCurrentTerm] = useState(null);\n  const [isMarksModalOpen, setIsMarksModalOpen] = useState(false);\n  const [selectedStudent, setSelectedStudent] = useState(null);\n  const [newMarkData, setNewMarkData] = useState({\n    subject: '',\n    testType: 'test',\n    markPercentage: ''\n  });\n  useEffect(() => {\n    const fetchInitialData = async () => {\n      try {\n        const students = await getStudents();\n        setStudents(students);\n        const subjects = await getSubjects();\n        setSubjects(subjects);\n        const termDetails = await getTerms();\n        const now = new Date();\n        const activeTerm = termDetails.find(term => new Date(term.startDate) <= now && now <= new Date(term.endDate));\n        setCurrentTerm(activeTerm || termDetails[0]); // Default to first term if no active term\n      } catch (error) {\n        console.error('Error fetching data:', error);\n      }\n    };\n    fetchInitialData();\n  }, []);\n  const handleMarksSubmit = async e => {\n    e.preventDefault();\n    try {\n      await addMarks(selectedStudent.id, currentTerm.id, newMarkData);\n      setMarks(prev => {\n        var _prev$selectedStudent;\n        return {\n          ...prev,\n          [selectedStudent.id]: {\n            ...prev[selectedStudent.id],\n            [currentTerm.id]: {\n              ...((_prev$selectedStudent = prev[selectedStudent.id]) === null || _prev$selectedStudent === void 0 ? void 0 : _prev$selectedStudent[currentTerm.id]),\n              [newMarkData.subject]: {\n                type: newMarkData.testType,\n                percentage: newMarkData.markPercentage\n              }\n            }\n          }\n        };\n      });\n      setIsMarksModalOpen(false); // Close the modal after submitting\n    } catch (error) {\n      console.error('Error adding marks:', error);\n    }\n  };\n  const calculateSubjectTotal = subjectMarks => {\n    const testMarks = (subjectMarks === null || subjectMarks === void 0 ? void 0 : subjectMarks.test) || 0;\n    const examMarks = (subjectMarks === null || subjectMarks === void 0 ? void 0 : subjectMarks.exam) || 0;\n    return testMarks + examMarks;\n  };\n  const calculateTermTotal = (studentMarks, termId) => {\n    return subjects.reduce((total, subject) => {\n      var _studentMarks$termId;\n      const subjectMarks = studentMarks === null || studentMarks === void 0 ? void 0 : (_studentMarks$termId = studentMarks[termId]) === null || _studentMarks$termId === void 0 ? void 0 : _studentMarks$termId[subject.name];\n      return total + calculateSubjectTotal(subjectMarks);\n    }, 0);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"students-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: currentTerm ? `Current Term: ${currentTerm.name}` : 'No Active Term'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this), isMarksModalOpen && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"popup-form\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: [\"Add Marks for \", selectedStudent === null || selectedStudent === void 0 ? void 0 : selectedStudent.name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleMarksSubmit,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Subject\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: newMarkData.subject,\n              onChange: e => setNewMarkData({\n                ...newMarkData,\n                subject: e.target.value\n              }),\n              children: subjects.map(subject => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: subject.name,\n                children: subject.name\n              }, subject.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 97,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Test Type\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 105,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: newMarkData.testType,\n              onChange: e => setNewMarkData({\n                ...newMarkData,\n                testType: e.target.value\n              }),\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"test\",\n                children: \"Test\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 112,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"exam\",\n                children: \"Exam\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 113,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 106,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Mark Percentage\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 118,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              value: newMarkData.markPercentage,\n              onChange: e => setNewMarkData({\n                ...newMarkData,\n                markPercentage: e.target.value\n              }),\n              min: \"0\",\n              max: \"100\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 119,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            children: \"Submit Marks\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setIsMarksModalOpen(false),\n          children: \"Close\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }, this), currentTerm ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"term-report\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: [\"Report for \", currentTerm.name]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Duration: \", currentTerm.startDate, \" to \", currentTerm.endDate]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Student Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 17\n            }, this), subjects.map(subject => /*#__PURE__*/_jsxDEV(\"th\", {\n              colSpan: \"3\",\n              children: subject.name\n            }, subject.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 148,\n              columnNumber: 19\n            }, this)), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Term Total\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 150,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: students.map(student => /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: student.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 156,\n              columnNumber: 19\n            }, this), subjects.map(subject => {\n              var _marks$student$id, _marks$student$id$cur;\n              const subjectMarks = ((_marks$student$id = marks[student.id]) === null || _marks$student$id === void 0 ? void 0 : (_marks$student$id$cur = _marks$student$id[currentTerm.id]) === null || _marks$student$id$cur === void 0 ? void 0 : _marks$student$id$cur[subject.name]) || {};\n              const subjectTotal = calculateSubjectTotal(subjectMarks);\n              return /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  children: [\"Test: \", (subjectMarks === null || subjectMarks === void 0 ? void 0 : subjectMarks.test) || 0, \"%\"]\n                }, `${subject.id}-test`, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 162,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: [\"Exam: \", (subjectMarks === null || subjectMarks === void 0 ? void 0 : subjectMarks.exam) || 0, \"%\"]\n                }, `${subject.id}-exam`, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 163,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: [\"Total: \", subjectTotal, \"%\"]\n                }, `${subject.id}-total`, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 164,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true);\n            }), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: [calculateTermTotal(marks[student.id], currentTerm.id), \"%\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 168,\n              columnNumber: 19\n            }, this)]\n          }, student.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"No active term is currently ongoing.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 79,\n    columnNumber: 5\n  }, this);\n};\n_s(StudentDetailsPage, \"fhqpeLLAvG0+GEyw3F/Vs5zDMGc=\");\n_c = StudentDetailsPage;\nexport default StudentDetailsPage;\nvar _c;\n$RefreshReg$(_c, \"StudentDetailsPage\");","map":{"version":3,"names":["React","useState","useEffect","getSubjects","getStudents","getTerms","addMarks","jsxDEV","_jsxDEV","Fragment","_Fragment","StudentDetailsPage","_s","students","setStudents","subjects","setSubjects","marks","setMarks","currentTerm","setCurrentTerm","isMarksModalOpen","setIsMarksModalOpen","selectedStudent","setSelectedStudent","newMarkData","setNewMarkData","subject","testType","markPercentage","fetchInitialData","termDetails","now","Date","activeTerm","find","term","startDate","endDate","error","console","handleMarksSubmit","e","preventDefault","id","prev","_prev$selectedStudent","type","percentage","calculateSubjectTotal","subjectMarks","testMarks","test","examMarks","exam","calculateTermTotal","studentMarks","termId","reduce","total","_studentMarks$termId","name","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","value","onChange","target","map","min","max","onClick","colSpan","student","_marks$student$id","_marks$student$id$cur","subjectTotal","_c","$RefreshReg$"],"sources":["/Users/irakizagaius/Downloads/IshuriHub/frontend/src/components/StudentDetails.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './StudentDetails.css';\nimport { getSubjects, getStudents, getTerms, addMarks } from '../api'; \n\nconst StudentDetailsPage = () => {\n  const [students, setStudents] = useState([]);\n  const [subjects, setSubjects] = useState([]);\n  const [marks, setMarks] = useState({});\n  const [currentTerm, setCurrentTerm] = useState(null);\n  const [isMarksModalOpen, setIsMarksModalOpen] = useState(false);\n  const [selectedStudent, setSelectedStudent] = useState(null);\n  const [newMarkData, setNewMarkData] = useState({\n    subject: '',\n    testType: 'test',\n    markPercentage: ''\n  });\n\n  useEffect(() => {\n    const fetchInitialData = async () => {\n      try {\n        const students = await getStudents();\n        setStudents(students);\n\n        const subjects = await getSubjects();\n        setSubjects(subjects);\n\n        const termDetails = await getTerms();\n        const now = new Date();\n\n        const activeTerm = termDetails.find(\n          (term) => new Date(term.startDate) <= now && now <= new Date(term.endDate)\n        );\n        setCurrentTerm(activeTerm || termDetails[0]); // Default to first term if no active term\n      } catch (error) {\n        console.error('Error fetching data:', error);\n      }\n    };\n\n    fetchInitialData();\n  }, []);\n\n  const handleMarksSubmit = async (e) => {\n    e.preventDefault();\n    try {\n      await addMarks(selectedStudent.id, currentTerm.id, newMarkData);\n      setMarks((prev) => ({\n        ...prev,\n        [selectedStudent.id]: {\n          ...prev[selectedStudent.id],\n          [currentTerm.id]: {\n            ...prev[selectedStudent.id]?.[currentTerm.id],\n            [newMarkData.subject]: {\n              type: newMarkData.testType,\n              percentage: newMarkData.markPercentage,\n            },\n          },\n        },\n      }));\n      setIsMarksModalOpen(false); // Close the modal after submitting\n    } catch (error) {\n      console.error('Error adding marks:', error);\n    }\n  };\n\n  const calculateSubjectTotal = (subjectMarks) => {\n    const testMarks = subjectMarks?.test || 0;\n    const examMarks = subjectMarks?.exam || 0;\n    return testMarks + examMarks;\n  };\n\n  const calculateTermTotal = (studentMarks, termId) => {\n    return subjects.reduce((total, subject) => {\n      const subjectMarks = studentMarks?.[termId]?.[subject.name];\n      return total + calculateSubjectTotal(subjectMarks);\n    }, 0);\n  };\n\n  return (\n    <div className=\"students-container\">\n      <h1>{currentTerm ? `Current Term: ${currentTerm.name}` : 'No Active Term'}</h1>\n\n      {/* Add Marks Modal */}\n      {isMarksModalOpen && (\n        <div className=\"popup-form\">\n          <div className=\"form-container\">\n            <h2>Add Marks for {selectedStudent?.name}</h2>\n            <form onSubmit={handleMarksSubmit}>\n              <div className=\"form-group\">\n                <label>Subject</label>\n                <select\n                  value={newMarkData.subject}\n                  onChange={(e) =>\n                    setNewMarkData({ ...newMarkData, subject: e.target.value })\n                  }\n                >\n                  {subjects.map((subject) => (\n                    <option key={subject.id} value={subject.name}>\n                      {subject.name}\n                    </option>\n                  ))}\n                </select>\n              </div>\n\n              <div className=\"form-group\">\n                <label>Test Type</label>\n                <select\n                  value={newMarkData.testType}\n                  onChange={(e) =>\n                    setNewMarkData({ ...newMarkData, testType: e.target.value })\n                  }\n                >\n                  <option value=\"test\">Test</option>\n                  <option value=\"exam\">Exam</option>\n                </select>\n              </div>\n\n              <div className=\"form-group\">\n                <label>Mark Percentage</label>\n                <input\n                  type=\"number\"\n                  value={newMarkData.markPercentage}\n                  onChange={(e) =>\n                    setNewMarkData({ ...newMarkData, markPercentage: e.target.value })\n                  }\n                  min=\"0\"\n                  max=\"100\"\n                />\n              </div>\n\n              <button type=\"submit\">Submit Marks</button>\n            </form>\n            <button onClick={() => setIsMarksModalOpen(false)}>Close</button>\n          </div>\n        </div>\n      )}\n\n      {/* Term Report Table */}\n      {currentTerm ? (\n        <div className=\"term-report\">\n          <h2>Report for {currentTerm.name}</h2>\n          <p>Duration: {currentTerm.startDate} to {currentTerm.endDate}</p>\n\n          <table>\n            <thead>\n              <tr>\n                <th>Student Name</th>\n                {subjects.map((subject) => (\n                  <th key={subject.id} colSpan=\"3\">{subject.name}</th>\n                ))}\n                <th>Term Total</th>\n              </tr>\n            </thead>\n            <tbody>\n              {students.map((student) => (\n                <tr key={student.id}>\n                  <td>{student.name}</td>\n                  {subjects.map((subject) => {\n                    const subjectMarks = marks[student.id]?.[currentTerm.id]?.[subject.name] || {};\n                    const subjectTotal = calculateSubjectTotal(subjectMarks);\n                    return (\n                      <>\n                        <td key={`${subject.id}-test`}>Test: {subjectMarks?.test || 0}%</td>\n                        <td key={`${subject.id}-exam`}>Exam: {subjectMarks?.exam || 0}%</td>\n                        <td key={`${subject.id}-total`}>Total: {subjectTotal}%</td>\n                      </>\n                    );\n                  })}\n                  <td>{calculateTermTotal(marks[student.id], currentTerm.id)}%</td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n      ) : (\n        <p>No active term is currently ongoing.</p>\n      )}\n    </div>\n  );\n};\n\nexport default StudentDetailsPage;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAO,sBAAsB;AAC7B,SAASC,WAAW,EAAEC,WAAW,EAAEC,QAAQ,EAAEC,QAAQ,QAAQ,QAAQ;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAEtE,MAAMC,kBAAkB,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC/B,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGb,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACc,QAAQ,EAAEC,WAAW,CAAC,GAAGf,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACgB,KAAK,EAAEC,QAAQ,CAAC,GAAGjB,QAAQ,CAAC,CAAC,CAAC,CAAC;EACtC,MAAM,CAACkB,WAAW,EAAEC,cAAc,CAAC,GAAGnB,QAAQ,CAAC,IAAI,CAAC;EACpD,MAAM,CAACoB,gBAAgB,EAAEC,mBAAmB,CAAC,GAAGrB,QAAQ,CAAC,KAAK,CAAC;EAC/D,MAAM,CAACsB,eAAe,EAAEC,kBAAkB,CAAC,GAAGvB,QAAQ,CAAC,IAAI,CAAC;EAC5D,MAAM,CAACwB,WAAW,EAAEC,cAAc,CAAC,GAAGzB,QAAQ,CAAC;IAC7C0B,OAAO,EAAE,EAAE;IACXC,QAAQ,EAAE,MAAM;IAChBC,cAAc,EAAE;EAClB,CAAC,CAAC;EAEF3B,SAAS,CAAC,MAAM;IACd,MAAM4B,gBAAgB,GAAG,MAAAA,CAAA,KAAY;MACnC,IAAI;QACF,MAAMjB,QAAQ,GAAG,MAAMT,WAAW,CAAC,CAAC;QACpCU,WAAW,CAACD,QAAQ,CAAC;QAErB,MAAME,QAAQ,GAAG,MAAMZ,WAAW,CAAC,CAAC;QACpCa,WAAW,CAACD,QAAQ,CAAC;QAErB,MAAMgB,WAAW,GAAG,MAAM1B,QAAQ,CAAC,CAAC;QACpC,MAAM2B,GAAG,GAAG,IAAIC,IAAI,CAAC,CAAC;QAEtB,MAAMC,UAAU,GAAGH,WAAW,CAACI,IAAI,CAChCC,IAAI,IAAK,IAAIH,IAAI,CAACG,IAAI,CAACC,SAAS,CAAC,IAAIL,GAAG,IAAIA,GAAG,IAAI,IAAIC,IAAI,CAACG,IAAI,CAACE,OAAO,CAC3E,CAAC;QACDlB,cAAc,CAACc,UAAU,IAAIH,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MAChD,CAAC,CAAC,OAAOQ,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;MAC9C;IACF,CAAC;IAEDT,gBAAgB,CAAC,CAAC;EACpB,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMW,iBAAiB,GAAG,MAAOC,CAAC,IAAK;IACrCA,CAAC,CAACC,cAAc,CAAC,CAAC;IAClB,IAAI;MACF,MAAMrC,QAAQ,CAACiB,eAAe,CAACqB,EAAE,EAAEzB,WAAW,CAACyB,EAAE,EAAEnB,WAAW,CAAC;MAC/DP,QAAQ,CAAE2B,IAAI;QAAA,IAAAC,qBAAA;QAAA,OAAM;UAClB,GAAGD,IAAI;UACP,CAACtB,eAAe,CAACqB,EAAE,GAAG;YACpB,GAAGC,IAAI,CAACtB,eAAe,CAACqB,EAAE,CAAC;YAC3B,CAACzB,WAAW,CAACyB,EAAE,GAAG;cAChB,KAAAE,qBAAA,GAAGD,IAAI,CAACtB,eAAe,CAACqB,EAAE,CAAC,cAAAE,qBAAA,uBAAxBA,qBAAA,CAA2B3B,WAAW,CAACyB,EAAE,CAAC;cAC7C,CAACnB,WAAW,CAACE,OAAO,GAAG;gBACrBoB,IAAI,EAAEtB,WAAW,CAACG,QAAQ;gBAC1BoB,UAAU,EAAEvB,WAAW,CAACI;cAC1B;YACF;UACF;QACF,CAAC;MAAA,CAAC,CAAC;MACHP,mBAAmB,CAAC,KAAK,CAAC,CAAC,CAAC;IAC9B,CAAC,CAAC,OAAOiB,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,qBAAqB,EAAEA,KAAK,CAAC;IAC7C;EACF,CAAC;EAED,MAAMU,qBAAqB,GAAIC,YAAY,IAAK;IAC9C,MAAMC,SAAS,GAAG,CAAAD,YAAY,aAAZA,YAAY,uBAAZA,YAAY,CAAEE,IAAI,KAAI,CAAC;IACzC,MAAMC,SAAS,GAAG,CAAAH,YAAY,aAAZA,YAAY,uBAAZA,YAAY,CAAEI,IAAI,KAAI,CAAC;IACzC,OAAOH,SAAS,GAAGE,SAAS;EAC9B,CAAC;EAED,MAAME,kBAAkB,GAAGA,CAACC,YAAY,EAAEC,MAAM,KAAK;IACnD,OAAO1C,QAAQ,CAAC2C,MAAM,CAAC,CAACC,KAAK,EAAEhC,OAAO,KAAK;MAAA,IAAAiC,oBAAA;MACzC,MAAMV,YAAY,GAAGM,YAAY,aAAZA,YAAY,wBAAAI,oBAAA,GAAZJ,YAAY,CAAGC,MAAM,CAAC,cAAAG,oBAAA,uBAAtBA,oBAAA,CAAyBjC,OAAO,CAACkC,IAAI,CAAC;MAC3D,OAAOF,KAAK,GAAGV,qBAAqB,CAACC,YAAY,CAAC;IACpD,CAAC,EAAE,CAAC,CAAC;EACP,CAAC;EAED,oBACE1C,OAAA;IAAKsD,SAAS,EAAC,oBAAoB;IAAAC,QAAA,gBACjCvD,OAAA;MAAAuD,QAAA,EAAK5C,WAAW,GAAG,iBAAiBA,WAAW,CAAC0C,IAAI,EAAE,GAAG;IAAgB;MAAAG,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC,EAG9E9C,gBAAgB,iBACfb,OAAA;MAAKsD,SAAS,EAAC,YAAY;MAAAC,QAAA,eACzBvD,OAAA;QAAKsD,SAAS,EAAC,gBAAgB;QAAAC,QAAA,gBAC7BvD,OAAA;UAAAuD,QAAA,GAAI,gBAAc,EAACxC,eAAe,aAAfA,eAAe,uBAAfA,eAAe,CAAEsC,IAAI;QAAA;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC,eAC9C3D,OAAA;UAAM4D,QAAQ,EAAE3B,iBAAkB;UAAAsB,QAAA,gBAChCvD,OAAA;YAAKsD,SAAS,EAAC,YAAY;YAAAC,QAAA,gBACzBvD,OAAA;cAAAuD,QAAA,EAAO;YAAO;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eACtB3D,OAAA;cACE6D,KAAK,EAAE5C,WAAW,CAACE,OAAQ;cAC3B2C,QAAQ,EAAG5B,CAAC,IACVhB,cAAc,CAAC;gBAAE,GAAGD,WAAW;gBAAEE,OAAO,EAAEe,CAAC,CAAC6B,MAAM,CAACF;cAAM,CAAC,CAC3D;cAAAN,QAAA,EAEAhD,QAAQ,CAACyD,GAAG,CAAE7C,OAAO,iBACpBnB,OAAA;gBAAyB6D,KAAK,EAAE1C,OAAO,CAACkC,IAAK;gBAAAE,QAAA,EAC1CpC,OAAO,CAACkC;cAAI,GADFlC,OAAO,CAACiB,EAAE;gBAAAoB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAEf,CACT;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACI,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACN,CAAC,eAEN3D,OAAA;YAAKsD,SAAS,EAAC,YAAY;YAAAC,QAAA,gBACzBvD,OAAA;cAAAuD,QAAA,EAAO;YAAS;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eACxB3D,OAAA;cACE6D,KAAK,EAAE5C,WAAW,CAACG,QAAS;cAC5B0C,QAAQ,EAAG5B,CAAC,IACVhB,cAAc,CAAC;gBAAE,GAAGD,WAAW;gBAAEG,QAAQ,EAAEc,CAAC,CAAC6B,MAAM,CAACF;cAAM,CAAC,CAC5D;cAAAN,QAAA,gBAEDvD,OAAA;gBAAQ6D,KAAK,EAAC,MAAM;gBAAAN,QAAA,EAAC;cAAI;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC,eAClC3D,OAAA;gBAAQ6D,KAAK,EAAC,MAAM;gBAAAN,QAAA,EAAC;cAAI;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC5B,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACN,CAAC,eAEN3D,OAAA;YAAKsD,SAAS,EAAC,YAAY;YAAAC,QAAA,gBACzBvD,OAAA;cAAAuD,QAAA,EAAO;YAAe;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eAC9B3D,OAAA;cACEuC,IAAI,EAAC,QAAQ;cACbsB,KAAK,EAAE5C,WAAW,CAACI,cAAe;cAClCyC,QAAQ,EAAG5B,CAAC,IACVhB,cAAc,CAAC;gBAAE,GAAGD,WAAW;gBAAEI,cAAc,EAAEa,CAAC,CAAC6B,MAAM,CAACF;cAAM,CAAC,CAClE;cACDI,GAAG,EAAC,GAAG;cACPC,GAAG,EAAC;YAAK;cAAAV,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACV,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC,CAAC,eAEN3D,OAAA;YAAQuC,IAAI,EAAC,QAAQ;YAAAgB,QAAA,EAAC;UAAY;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACvC,CAAC,eACP3D,OAAA;UAAQmE,OAAO,EAAEA,CAAA,KAAMrD,mBAAmB,CAAC,KAAK,CAAE;UAAAyC,QAAA,EAAC;QAAK;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC9D;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CACN,EAGAhD,WAAW,gBACVX,OAAA;MAAKsD,SAAS,EAAC,aAAa;MAAAC,QAAA,gBAC1BvD,OAAA;QAAAuD,QAAA,GAAI,aAAW,EAAC5C,WAAW,CAAC0C,IAAI;MAAA;QAAAG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,eACtC3D,OAAA;QAAAuD,QAAA,GAAG,YAAU,EAAC5C,WAAW,CAACkB,SAAS,EAAC,MAAI,EAAClB,WAAW,CAACmB,OAAO;MAAA;QAAA0B,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAEjE3D,OAAA;QAAAuD,QAAA,gBACEvD,OAAA;UAAAuD,QAAA,eACEvD,OAAA;YAAAuD,QAAA,gBACEvD,OAAA;cAAAuD,QAAA,EAAI;YAAY;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,EACpBpD,QAAQ,CAACyD,GAAG,CAAE7C,OAAO,iBACpBnB,OAAA;cAAqBoE,OAAO,EAAC,GAAG;cAAAb,QAAA,EAAEpC,OAAO,CAACkC;YAAI,GAArClC,OAAO,CAACiB,EAAE;cAAAoB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAgC,CACpD,CAAC,eACF3D,OAAA;cAAAuD,QAAA,EAAI;YAAU;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACjB;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACA,CAAC,eACR3D,OAAA;UAAAuD,QAAA,EACGlD,QAAQ,CAAC2D,GAAG,CAAEK,OAAO,iBACpBrE,OAAA;YAAAuD,QAAA,gBACEvD,OAAA;cAAAuD,QAAA,EAAKc,OAAO,CAAChB;YAAI;cAAAG,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CAAC,EACtBpD,QAAQ,CAACyD,GAAG,CAAE7C,OAAO,IAAK;cAAA,IAAAmD,iBAAA,EAAAC,qBAAA;cACzB,MAAM7B,YAAY,GAAG,EAAA4B,iBAAA,GAAA7D,KAAK,CAAC4D,OAAO,CAACjC,EAAE,CAAC,cAAAkC,iBAAA,wBAAAC,qBAAA,GAAjBD,iBAAA,CAAoB3D,WAAW,CAACyB,EAAE,CAAC,cAAAmC,qBAAA,uBAAnCA,qBAAA,CAAsCpD,OAAO,CAACkC,IAAI,CAAC,KAAI,CAAC,CAAC;cAC9E,MAAMmB,YAAY,GAAG/B,qBAAqB,CAACC,YAAY,CAAC;cACxD,oBACE1C,OAAA,CAAAE,SAAA;gBAAAqD,QAAA,gBACEvD,OAAA;kBAAAuD,QAAA,GAA+B,QAAM,EAAC,CAAAb,YAAY,aAAZA,YAAY,uBAAZA,YAAY,CAAEE,IAAI,KAAI,CAAC,EAAC,GAAC;gBAAA,GAAtD,GAAGzB,OAAO,CAACiB,EAAE,OAAO;kBAAAoB,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAsC,CAAC,eACpE3D,OAAA;kBAAAuD,QAAA,GAA+B,QAAM,EAAC,CAAAb,YAAY,aAAZA,YAAY,uBAAZA,YAAY,CAAEI,IAAI,KAAI,CAAC,EAAC,GAAC;gBAAA,GAAtD,GAAG3B,OAAO,CAACiB,EAAE,OAAO;kBAAAoB,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAsC,CAAC,eACpE3D,OAAA;kBAAAuD,QAAA,GAAgC,SAAO,EAACiB,YAAY,EAAC,GAAC;gBAAA,GAA7C,GAAGrD,OAAO,CAACiB,EAAE,QAAQ;kBAAAoB,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAA4B,CAAC;cAAA,eAC3D,CAAC;YAEP,CAAC,CAAC,eACF3D,OAAA;cAAAuD,QAAA,GAAKR,kBAAkB,CAACtC,KAAK,CAAC4D,OAAO,CAACjC,EAAE,CAAC,EAAEzB,WAAW,CAACyB,EAAE,CAAC,EAAC,GAAC;YAAA;cAAAoB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC;UAAA,GAb1DU,OAAO,CAACjC,EAAE;YAAAoB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAcf,CACL;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACG,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL,CAAC,gBAEN3D,OAAA;MAAAuD,QAAA,EAAG;IAAoC;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAG,CAC3C;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAEV,CAAC;AAACvD,EAAA,CA9KID,kBAAkB;AAAAsE,EAAA,GAAlBtE,kBAAkB;AAgLxB,eAAeA,kBAAkB;AAAC,IAAAsE,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}